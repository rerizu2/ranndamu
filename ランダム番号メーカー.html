<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒ©ãƒ³ãƒ€ãƒ ç•ªå·ãƒ¡ãƒ¼ã‚«ãƒ¼</title>
<link rel="icon" href="https://www.bannerkoubou.com/image_gif_animation/gWex1wJE48l6oaytwAKG1765542170-1765542252.gif">
<link rel="apple-touch-icon" href="https://www.bannerkoubou.com/image_gif_animation/gWex1wJE48l6oaytwAKG1765542170-1765542252.gif">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
    font-family: 'Helvetica Neue', Arial, sans-serif;
    background-color: #f0f2f5;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    color: #333;
    padding: 20px 0;
}

.container {
    background-color: white;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    text-align: center;
    width: 90%;
    max-width: 450px;
}

h1 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    color: #2c3e50;
}

.status-text {
    font-size: 0.85rem;
    color: #7f8c8d;
    margin-bottom: 1.5rem;
    min-height: 1.2em;
}

.input-group {
    display: flex;
    justify-content: space-between;
    gap: 10px;
    margin-bottom: 20px;
}

.input-wrapper {
    display: flex;
    flex-direction: column;
    width: 48%;
}

label {
    font-size: 0.8rem;
    margin-bottom: 5px;
    color: #666;
}

input[type="number"] {
    padding: 10px;
    font-size: 1rem;
    border: 1px solid #ddd;
    border-radius: 8px;
    text-align: center;
    width: 100%;
}

.btn {
    border: none;
    padding: 12px 24px;
    font-size: 1rem;
    border-radius: 50px;
    cursor: pointer;
    font-weight: bold;
    width: 100%;
    margin-bottom: 10px;
    color: white;
}

#generateBtn { background-color: #3498db; }
#copyPrintBtn { background-color: #27ae60; display: none; }
#resetBtn { background-color: #e74c3c; }

#result-area {
    margin-top: 20px;
    margin-bottom: 20px;
    height: 100px;
    display: flex;
    justify-content: center;
    align-items: center;
}

#result {
    font-size: 4rem;
    font-weight: bold;
    color: #2c3e50;
}

.history-container {
    margin-top: 30px;
    border-top: 2px dashed #eee;
    padding-top: 15px;
}

.history-title {
    text-align: center;
    color: #777;
    margin-bottom: 10px;
}

.history-item {
    background: #eee;
    border-radius: 20px;
    padding: 5px 12px;
    font-weight: bold;
    margin: 3px;
}

.history-item.latest {
    background: #3498db;
    color: #fff;
}

/* ğŸ”½ğŸ”½ğŸ”½ ã“ã“ãŒã€Œ1æšã ã‘å°åˆ·ã€ã®è¨­å®š ğŸ”½ğŸ”½ğŸ”½ */
@media print {

    @page {
        size: 48mm 48mm;
        margin: 0;
    }

    /* 1ãƒšãƒ¼ã‚¸å›ºå®šãƒ»ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç¦æ­¢ */
    html, body {
        width: 48mm;
        height: 48mm;
        overflow: hidden !important;
    }

    /* ç”»é¢ã®ä»–ã®è¦ç´ ã¯éè¡¨ç¤º */
    body * {
        visibility: hidden;
    }

    /* å°åˆ·ã™ã‚‹ã®ã¯ã“ã“ã ã‘ */
    #result-area {
        visibility: visible !important;

        position: fixed;
        top: 0;
        left: 0;

        width: 48mm;
        height: 48mm;

        display: flex !important;
        justify-content: center;
        align-items: center;

        background: white;

        /* æ”¹ãƒšãƒ¼ã‚¸å®Œå…¨ç¦æ­¢ */
        page-break-before: avoid;
        page-break-after: avoid;
        page-break-inside: avoid;
    }

    #result-area * {
        visibility: visible !important;
    }

    #result {
        font-size: 28mm !important;
        line-height: 1;
        text-align: center;
    }

    /* ãã®ä»–ã¯å°åˆ·ã—ãªã„ */
    .container,
    .btn,
    .history-container,
    .input-group,
    .status-text,
    h1,
    .error {
        display: none !important;
    }
}
</style>
</head>

<body>

<div class="container">
    <h1>ãƒ©ãƒ³ãƒ€ãƒ ç•ªå·ãƒ¡ãƒ¼ã‚«ãƒ¼</h1>
    <div id="statusText">æ®‹ã‚Šæšæ•°: è¨ˆç®—ä¸­...</div>

    <div class="input-group">
        <div class="input-wrapper">
            <label>æœ€å°å€¤</label>
            <input type="number" id="min" value="1">
        </div>
        <div class="input-wrapper">
            <label>æœ€å¤§å€¤</label>
            <input type="number" id="max" value="100">
        </div>
    </div>

    <button id="generateBtn" class="btn">ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
    <button id="copyPrintBtn" class="btn">çµæœã‚’ã‚³ãƒ”ãƒ¼ï¼†å°åˆ·</button>
    <button id="resetBtn" class="btn">ãƒªã‚»ãƒƒãƒˆ</button>

    <div id="errorMsg" class="error"></div>

    <div id="result-area">
        <div id="result">?</div>
    </div>

    <div class="history-container">
        <div class="history-title">å±¥æ­´</div>
        <div id="history-list"></div>
    </div>
</div>

<script>
const generateBtn = document.getElementById('generateBtn');
const copyPrintBtn = document.getElementById('copyPrintBtn');
const resetBtn = document.getElementById('resetBtn');
const resultDisplay = document.getElementById('result');
const minInput = document.getElementById('min');
const maxInput = document.getElementById('max');
const historyList = document.getElementById('history-list');

let generatedNumbers = new Set();
let isAnimating = false;

generateBtn.addEventListener('click', startLottery);

function startLottery() {
    if (isAnimating) return;

    const min = parseInt(minInput.value);
    const max = parseInt(maxInput.value);
    const total = max - min + 1;

    if (generatedNumbers.size >= total) return;

    isAnimating = true;

    let final;
    do {
        final = Math.floor(Math.random() * (max - min + 1)) + min;
    } while (generatedNumbers.has(final));

    generatedNumbers.add(final);

    resultDisplay.textContent = final;

    const span = document.createElement("span");
    span.className = "history-item latest";
    span.textContent = final;
    historyList.prepend(span);

    copyPrintBtn.style.display = "inline-block";
    isAnimating = false;
}

copyPrintBtn.addEventListener('click', () => window.print());
resetBtn.addEventListener('click', () => location.reload());
</script>

</body>
</html>
